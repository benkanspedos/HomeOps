"use strict";exports.id=152,exports.ids=[152],exports.modules={40991:(e,t,a)=>{a.d(t,{R:()=>j});var n=a(10326),r=a(17577),s=a.n(r),i=a(21021),o=a(3679),l=a(21405),c=a(31540);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,a(62881).Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var h=a(30660),m=a(10669),y=a(18423),p=a(62637),u=a(9997),x=a(44675),f=a(69274),g=a(47445),w=a(34474);function j({data:e,timeRange:t,onRangeChange:a,height:r=300,showLegend:j=!0}){let v=s().useMemo(()=>{let t=e.cpu||[],a=e.memory||[],n=e.network||[],r=t.map((e,t)=>({time:e.time,cpu:e.value,memory:a[t]?.value||0,network:n[t]?.value||0}));if(r.length>50){let e=Math.ceil(r.length/50);return r.filter((t,a)=>a%e==0)}return r},[e]);return(0,n.jsxs)(i.Zb,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Resource Metrics"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(w.Ph,{value:t,onValueChange:a,children:[n.jsx(w.i4,{className:"w-32",children:n.jsx(w.ki,{})}),(0,n.jsxs)(w.Bw,{children:[n.jsx(w.Ql,{value:"1h",children:"Last Hour"}),n.jsx(w.Ql,{value:"6h",children:"Last 6 Hours"}),n.jsx(w.Ql,{value:"24h",children:"Last 24 Hours"}),n.jsx(w.Ql,{value:"7d",children:"Last 7 Days"}),n.jsx(w.Ql,{value:"30d",children:"Last 30 Days"})]})]}),n.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>window.location.reload(),className:"h-8 w-8 p-0",children:n.jsx(l.Z,{className:"h-4 w-4"})}),n.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>{let e=new Blob([[["Time","CPU (%)","Memory (%)","Network (MB)"],...v.map(e=>[e.time,e.cpu.toFixed(2),e.memory.toFixed(2),e.network.toFixed(2)])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=`metrics-${t}-${Date.now()}.csv`,n.click(),window.URL.revokeObjectURL(a)},className:"h-8 w-8 p-0",children:n.jsx(c.Z,{className:"h-4 w-4"})}),n.jsx(o.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(d,{className:"h-4 w-4"})})]})]}),n.jsx(h.h,{width:"100%",height:r,children:(0,n.jsxs)(m.T,{data:v,children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,n.jsxs)("linearGradient",{id:"colorMemory",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),(0,n.jsxs)("linearGradient",{id:"colorNetwork",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),n.jsx(y.q,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(p.K,{dataKey:"time",className:"text-xs",tick:{fontSize:11},interval:"preserveStartEnd"}),n.jsx(u.B,{className:"text-xs",tick:{fontSize:11},domain:[0,100]}),n.jsx(x.u,{content:n.jsx(({active:e,payload:t,label:a})=>e&&t&&t.length?(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:a}),t.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("span",{className:"text-xs",style:{color:e.color},children:[e.name,":"]}),(0,n.jsxs)("span",{className:"text-xs font-medium",children:[e.value.toFixed(2),"network"===e.name?" MB":"%"]})]},t))]}):null,{})}),j&&n.jsx(f.D,{wrapperStyle:{fontSize:"12px"},iconType:"line"}),n.jsx(g.u,{type:"monotone",dataKey:"cpu",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCpu)",strokeWidth:2,name:"CPU"}),n.jsx(g.u,{type:"monotone",dataKey:"memory",stroke:"#10b981",fillOpacity:1,fill:"url(#colorMemory)",strokeWidth:2,name:"Memory"}),e.network&&e.network.length>0&&n.jsx(g.u,{type:"monotone",dataKey:"network",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorNetwork)",strokeWidth:2,name:"Network",yAxisId:"right"})]})}),0===v.length&&n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-gray-500",children:"No data available for the selected time range"})})]})}},1059:(e,t,a)=>{a.d(t,{AS:()=>c,be:()=>o,uK:()=>l});var n=a(44976),r=a(48083),s=a(28468);a(17577);var i=a(87916);function o(e=1e4){let t=(0,n.NL)(),{data:a,error:o,isLoading:l,refetch:c}=(0,r.a)({queryKey:["containerHealth"],queryFn:()=>i.CV.getContainerHealth(),refetchInterval:e,refetchIntervalInBackground:!0,staleTime:5e3}),d=(0,s.D)({mutationFn:e=>i.CV.restartContainer(e),onSuccess:()=>{t.invalidateQueries({queryKey:["containerHealth"]})}}),h=(0,s.D)({mutationFn:e=>i.CV.stopContainer(e),onSuccess:()=>{t.invalidateQueries({queryKey:["containerHealth"]})}}),m=(0,s.D)({mutationFn:e=>i.CV.startContainer(e),onSuccess:()=>{t.invalidateQueries({queryKey:["containerHealth"]})}});return{containers:a?.containers||[],summary:a?{total:a.total,running:a.running,stopped:a.stopped,unhealthy:a.unhealthy}:null,isLoading:l,error:o,refetch:c,restartContainer:d.mutate,stopContainer:h.mutate,startContainer:m.mutate,isRestarting:d.isPending,isStopping:h.isPending,isStarting:m.isPending}}function l(e){let{data:t,error:a,isLoading:n,refetch:s}=(0,r.a)({queryKey:["container",e],queryFn:()=>i.CV.getContainerHealth(e),refetchInterval:5e3,enabled:!!e});return{container:t?.containers?.[0],isLoading:n,error:a,refetch:s}}function c(e,t=100){let{data:a,error:n,isLoading:s,refetch:o}=(0,r.a)({queryKey:["containerLogs",e,t],queryFn:()=>i.CV.getContainerLogs(e,t),enabled:!!e,refetchInterval:!1});return{logs:a?.lines||[],isLoading:s,error:n,refetch:o}}},85430:(e,t,a)=>{a.d(t,{Bf:()=>i,k7:()=>o});var n=a(48083),r=a(17577),s=a(87916);function i({containerId:e,hours:t=24,refreshInterval:a=3e4}={}){let[i,o]=(0,r.useState)(t),l=(0,n.a)({queryKey:["metrics",e,i],queryFn:()=>e?s.CV.getMetrics(e,i):Promise.resolve([]),enabled:!!e,refetchInterval:a,staleTime:1e4}),c=(0,n.a)({queryKey:["systemMetrics"],queryFn:()=>s.CV.getSystemHealth(),refetchInterval:a,staleTime:1e4}),d=(0,n.a)({queryKey:["currentMetrics",e],queryFn:()=>e?s.CV.getCurrentMetrics(e):Promise.resolve(null),enabled:!!e,refetchInterval:5e3,staleTime:2e3}),h=(0,r.useMemo)(()=>{let e=l.data||[];return{cpu:e.map(e=>({time:new Date(e.timestamp).toLocaleTimeString(),value:e.cpuPercent,label:`${e.cpuPercent.toFixed(1)}%`})),memory:e.map(e=>({time:new Date(e.timestamp).toLocaleTimeString(),value:e.memoryPercent,label:`${e.memoryUsageMB.toFixed(0)} MB`})),network:e.map(e=>({time:new Date(e.timestamp).toLocaleTimeString(),value:(e.networkRxBytes+e.networkTxBytes)/1024/1024,label:`${((e.networkRxBytes+e.networkTxBytes)/1024/1024).toFixed(2)} MB`})),disk:e.map(e=>({time:new Date(e.timestamp).toLocaleTimeString(),value:e.diskUsageMB||0,label:`${(e.diskUsageMB||0).toFixed(0)} MB`}))}},[l.data]),m=(0,r.useMemo)(()=>{let e=l.data||[];if(0===e.length)return null;let t=e.map(e=>e.cpuPercent),a=e.map(e=>e.memoryPercent);return{cpu:{average:t.reduce((e,t)=>e+t,0)/t.length,max:Math.max(...t),min:Math.min(...t)},memory:{average:a.reduce((e,t)=>e+t,0)/a.length,max:Math.max(...a),min:Math.min(...a)}}},[l.data]);return{containerMetrics:l.data||[],systemMetrics:c.data,currentMetrics:d.data,chartData:h,statistics:m,timeRange:i,setTimeRange:e=>{o(e),l.refetch()},isLoadingContainer:l.isLoading,isLoadingSystem:c.isLoading,isLoadingCurrent:d.isLoading,containerError:l.error,systemError:c.error,currentError:d.error,refetchContainer:l.refetch,refetchSystem:c.refetch,refetchCurrent:d.refetch}}function o(e=3e4){let{data:t,error:a,isLoading:r,refetch:i}=(0,n.a)({queryKey:["systemMetrics"],queryFn:()=>s.CV.getSystemHealth(),refetchInterval:e,staleTime:1e4});return{metrics:t,isLoading:r,error:a,refetch:i}}},87916:(e,t,a)=>{a.d(t,{CV:()=>s});let n="http://localhost:3101/api";async function r(e){if(!e.ok)throw Error((await e.json().catch(()=>({error:"Unknown error"}))).error||`HTTP error! status: ${e.status}`);let t=await e.json();return t.data||t}let s={async getContainerHealth(e){let t=e?`${n}/health/containers?containerId=${e}`:`${n}/health/containers`;return r(await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}))},getContainerLogs:async(e,t=100)=>r(await fetch(`${n}/health/containers/${e}/logs?lines=${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})),getMetrics:async(e,t=24)=>r(await fetch(`${n}/health/metrics/${e}?hours=${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})),getCurrentMetrics:async e=>r(await fetch(`${n}/health/metrics/${e}/current`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})),getSystemHealth:async()=>r(await fetch(`${n}/health/system`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})),configureAlert:async e=>r(await fetch(`${n}/alerts/configure`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})),async updateAlert(e,t){let a=await fetch(`${n}/alerts/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});await r(a)},async deleteAlert(e){let t=await fetch(`${n}/alerts/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});await r(t)},async getAlertHistory(e=24,t){let a=new URLSearchParams({hours:e.toString()});t&&a.append("alertId",t);let s=await fetch(`${n}/alerts/history?${a}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return(await r(s)).history||[]},getAlertTemplates:async()=>r(await fetch(`${n}/alerts/templates`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})),testAlert:async(e,t)=>r(await fetch(`${n}/alerts/test/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})),createHealthStream:()=>new EventSource(`${n}/health/stream`,{withCredentials:!0}),async restartContainer(e){let t=await fetch(`${n}/services/${e}/restart`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});await r(t)},async stopContainer(e){let t=await fetch(`${n}/services/${e}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});await r(t)},async startContainer(e){let t=await fetch(`${n}/services/${e}/start`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});await r(t)}}},71208:(e,t,a)=>{a.d(t,{Z:()=>n});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(62881).Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},55002:(e,t,a)=>{a.d(t,{Z:()=>n});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(62881).Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])}};