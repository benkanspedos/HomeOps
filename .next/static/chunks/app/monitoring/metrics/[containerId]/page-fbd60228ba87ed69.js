(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{53154:function(e,s,t){Promise.resolve().then(t.bind(t,67622))},67622:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var a=t(57437),l=t(2265),n=t(16463),i=t(69976),r=t(96549),c=t(92474),x=t(57883),d=t(64308),m=t(94693),h=t(85273),o=t(46294),u=t(94207),j=t(95137),y=t(40933),p=t(66706),g=t(5353),N=t(46290),v=t(21100),f=t(78030);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,f.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var w=t(53225);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,f.Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);var Z=t(37164);function M(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),t=null==e?void 0:e.containerId,[f,M]=(0,l.useState)(24),[C,L]=(0,l.useState)(100),{container:P,isLoading:R}=(0,r.uK)(t),{logs:z,refetch:U}=(0,r.AS)(t,C),{currentMetrics:F,chartData:B,statistics:Q,timeRange:S,setTimeRange:H,isLoadingContainer:T,refetchContainer:q}=(0,i.Bf)({containerId:t,hours:f});return R||!P?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.Z,{className:"w-12 h-12 mx-auto mb-4 animate-pulse text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Loading container metrics..."})]})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>s.push("/monitoring"),className:"mb-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6"}),P.name]}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:P.image}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,a.jsx)(m.C,{variant:"running"===P.status?"default":"secondary",children:P.status}),(0,a.jsx)(m.C,{variant:"healthy"===P.health?"default":"destructive",children:P.health}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Uptime: ",Math.floor(P.uptime/3600),"h ",Math.floor(P.uptime%3600/60),"m"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.Ph,{value:f.toString(),onValueChange:e=>{let s=parseInt(e);M(s),H(s)},children:[(0,a.jsx)(o.i4,{className:"w-40",children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"1",children:"Last Hour"}),(0,a.jsx)(o.Ql,{value:"6",children:"Last 6 Hours"}),(0,a.jsx)(o.Ql,{value:"24",children:"Last 24 Hours"}),(0,a.jsx)(o.Ql,{value:"168",children:"Last 7 Days"}),(0,a.jsx)(o.Ql,{value:"720",children:"Last 30 Days"})]})]}),(0,a.jsxs)(d.z,{onClick:q,variant:"outline",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),F&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(x.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"CPU Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[F.cpuPercent.toFixed(1),"%"]}),(null==Q?void 0:Q.cpu)&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Avg: ",Q.cpu.average.toFixed(1),"%"]})]}),(0,a.jsx)(g.Z,{className:"w-8 h-8 text-blue-500"})]})}),(0,a.jsx)(x.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Memory Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[F.memoryUsageMB.toFixed(0)," MB"]}),(null==Q?void 0:Q.memory)&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[F.memoryPercent.toFixed(1),"% used"]})]}),(0,a.jsx)(N.Z,{className:"w-8 h-8 text-green-500"})]})}),(0,a.jsx)(x.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Network I/O"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[((F.networkRxBytes+F.networkTxBytes)/1024/1024).toFixed(1)," MB"]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Total traffic"})]}),(0,a.jsx)(v.Z,{className:"w-8 h-8 text-purple-500"})]})}),(0,a.jsx)(x.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Restart Count"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:P.restartCount}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Total restarts"})]}),(0,a.jsx)(p.Z,{className:"w-8 h-8 text-orange-500"})]})})]}),Q&&(0,a.jsxs)(x.Zb,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-3",children:"Performance Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"CPU Range"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[Q.cpu.min.toFixed(1),"%"]}),(0,a.jsx)("span",{className:"text-gray-400",children:"-"}),(0,a.jsx)(w.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[Q.cpu.max.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Memory Range"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[Q.memory.min.toFixed(1),"%"]}),(0,a.jsx)("span",{className:"text-gray-400",children:"-"}),(0,a.jsx)(w.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[Q.memory.max.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Avg CPU"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[Q.cpu.average.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Memory"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[Q.memory.average.toFixed(1),"%"]})]})]})]}),(0,a.jsxs)(h.mQ,{defaultValue:"metrics",className:"space-y-4",children:[(0,a.jsxs)(h.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(h.SP,{value:"metrics",children:"Metrics History"}),(0,a.jsx)(h.SP,{value:"logs",children:"Container Logs"})]}),(0,a.jsx)(h.nU,{value:"metrics",children:(0,a.jsx)(c.R,{data:B,timeRange:"".concat(f,"h"),height:400,showLegend:!0})}),(0,a.jsx)(h.nU,{value:"logs",className:"space-y-4",children:(0,a.jsxs)(x.Zb,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Container Logs"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.Ph,{value:C.toString(),onValueChange:e=>L(parseInt(e)),children:[(0,a.jsx)(o.i4,{className:"w-32",children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"50",children:"Last 50"}),(0,a.jsx)(o.Ql,{value:"100",children:"Last 100"}),(0,a.jsx)(o.Ql,{value:"200",children:"Last 200"}),(0,a.jsx)(o.Ql,{value:"500",children:"Last 500"})]})]}),(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:U,children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([z.join("\n")],{type:"text/plain"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="".concat(t,"-logs-").concat(Date.now(),".txt"),a.click(),window.URL.revokeObjectURL(s)},children:(0,a.jsx)(Z.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:(0,a.jsx)("pre",{className:"text-xs font-mono whitespace-pre",children:z.length>0?z.join("\n"):"No logs available"})})]})})]})]})}},95137:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5353:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},46290:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},71106:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},21100:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},53225:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},16463:function(e,s,t){"use strict";var a=t(71169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[502,685,842,689,716,313,971,23,744],function(){return e(e.s=53154)}),_N_E=e.O()}]);